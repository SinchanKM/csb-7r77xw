{"version":3,"sources":["AudioRecorder.js","index.js"],"names":["AudioRecorder","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","this","call","state","status","_createClass","key","value","setState","e","audioType","target","_this2","_this$state","audioSrc","audioProps","timeslice","startCallback","console","log","pauseCallback","stopCallback","window","URL","createObjectURL","onRecordCallback","errorCallback","err","React","createElement","AudioAnalyser","className","onClick","controlAudio","name","id","onChange","changeScheme","Component","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"gOAGqBA,EAAa,SAAAC,GAAAC,YAAAF,EAAAC,GAAA,IAAAE,EAAAC,YAAAJ,GAChC,SAAAA,EAAYK,GAAO,IAAAC,EAIf,OAJeC,YAAAC,KAAAR,IACjBM,EAAAH,EAAAM,KAAAD,KAAMH,IACDK,MAAQ,CACXC,OAAQ,IACRL,EAqFH,OApFAM,YAAAZ,EAAA,EAAAa,IAAA,eAAAC,MAED,SAAaH,GACXH,KAAKO,SAAS,CACZJ,aAEH,CAAAE,IAAA,eAAAC,MAED,SAAaE,GACXR,KAAKO,SAAS,CACZE,UAAWD,EAAEE,OAAOJ,UAEvB,CAAAD,IAAA,oBAAAC,MAED,WACEN,KAAKO,SAAS,CACZE,UAAW,gBAEd,CAAAJ,IAAA,SAAAC,MAED,WAAS,IAAAK,EAAAX,KACPY,EAAwCZ,KAAKE,MAArCC,EAAMS,EAANT,OAAQU,EAAQD,EAARC,SAAUJ,EAASG,EAATH,UACpBK,EAAa,CACjBL,YAEAN,SACAU,WACAE,UAAW,IACXC,cAAe,SAAAR,GACbS,QAAQC,IAAI,aAAcV,IAE5BW,cAAe,SAAAX,GACbS,QAAQC,IAAI,aAAcV,IAE5BY,aAAc,SAAAZ,GACZG,EAAKJ,SAAS,CACZM,SAAUQ,OAAOC,IAAIC,gBAAgBf,KAEvCS,QAAQC,IAAI,YAAaV,IAE3BgB,iBAAkB,SAAAhB,GAChBS,QAAQC,IAAI,YAAaV,IAE3BiB,cAAe,SAAAC,GACbT,QAAQC,IAAI,QAASQ,KAGzB,OACEC,IAAAC,cAAA,WACED,IAAAC,cAACC,IAAkBf,EACjBa,IAAAC,cAAA,OAAKE,UAAU,WACbH,IAAAC,cAAA,UACEE,UAAU,MACVC,QAAS,kBAAMpB,EAAKqB,aAAa,eAClC,SAGDL,IAAAC,cAAA,UAAQE,UAAU,MAAMC,QAAS,kBAAMpB,EAAKqB,aAAa,YAAW,SAGpEL,IAAAC,cAAA,UACEE,UAAU,MACVC,QAAS,kBAAMpB,EAAKqB,aAAa,cAClC,QAGDL,IAAAC,cAAA,UAAQE,UAAU,MAAMC,QAAS,kBAAMd,QAAQC,IAAIW,OAAgB,SAKvEF,IAAAC,cAAA,SAAG,sBACHD,IAAAC,cAAA,UACEK,KAAK,GACLC,GAAG,GACHC,SAAU,SAAA3B,GAAC,OAAIG,EAAKyB,aAAa5B,IACjCF,MAAOG,GAEPkB,IAAAC,cAAA,UAAQtB,MAAM,cAAa,iCAC3BqB,IAAAC,cAAA,UAAQtB,MAAM,aAAY,aAC1BqB,IAAAC,cAAA,UAAQtB,MAAM,aAAY,mBAIjCd,EA1F+B,CAAS6C,mBCG3C,SAASC,IACP,OACEX,IAAAC,cAAA,OAAKE,UAAU,OACbH,IAAAC,cAAA,UAAI,qCACJD,IAAAC,cAACpC,EAAa,OAKpB,IAAM+C,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOhB,IAAAC,cAACU,EAAG,MAAKC","file":"static/js/main.27da51b5.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport AudioAnalyser from \"react-audio-analyser\";\r\n\r\nexport default class AudioRecorder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      status: \"\"\r\n    };\r\n  }\r\n\r\n  controlAudio(status) {\r\n    this.setState({\r\n      status\r\n    });\r\n  }\r\n\r\n  changeScheme(e) {\r\n    this.setState({\r\n      audioType: e.target.value\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      audioType: \"audio/wav\"\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { status, audioSrc, audioType } = this.state;\r\n    const audioProps = {\r\n      audioType,\r\n      // audioOptions: {sampleRate: 30000}, // 设置输出音频采样率\r\n      status,\r\n      audioSrc,\r\n      timeslice: 1000, // timeslice（https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/start#Parameters）\r\n      startCallback: e => {\r\n        console.log(\"succ start\", e);\r\n      },\r\n      pauseCallback: e => {\r\n        console.log(\"succ pause\", e);\r\n      },\r\n      stopCallback: e => {\r\n        this.setState({\r\n          audioSrc: window.URL.createObjectURL(e)\r\n        });\r\n        console.log(\"succ stop\", e);\r\n      },\r\n      onRecordCallback: e => {\r\n        console.log(\"recording\", e);\r\n      },\r\n      errorCallback: err => {\r\n        console.log(\"error\", err);\r\n      }\r\n    };\r\n    return (\r\n      <div>\r\n        <AudioAnalyser {...audioProps}>\r\n          <div className=\"btn-box\">\r\n            <button\r\n              className=\"btn\"\r\n              onClick={() => this.controlAudio(\"recording\")}\r\n            >\r\n              Start\r\n            </button>\r\n            <button className=\"btn\" onClick={() => this.controlAudio(\"paused\")}>\r\n              Pause\r\n            </button>\r\n            <button\r\n              className=\"btn\"\r\n              onClick={() => this.controlAudio(\"inactive\")}\r\n            >\r\n              Stop\r\n            </button>\r\n            <button className=\"btn\" onClick={() => console.log(AudioAnalyser)}>\r\n              Log\r\n            </button>\r\n          </div>\r\n        </AudioAnalyser>\r\n        <p>choose output type</p>\r\n        <select\r\n          name=\"\"\r\n          id=\"\"\r\n          onChange={e => this.changeScheme(e)}\r\n          value={audioType}\r\n        >\r\n          <option value=\"audio/webm\">audio/webm（default）</option>\r\n          <option value=\"audio/wav\">audio/wav</option>\r\n          <option value=\"audio/mp3\">audio/mp3</option>\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport AudioRecorder from \"./AudioRecorder.js\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h2>Record, Encode and Download Audio</h2>\n      <AudioRecorder />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}